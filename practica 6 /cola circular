 #include<stdio.h>
 #define MAX 5
 
 typedef struct{
    int datos[MAX];
    int frente;
    int final;
    int size;
 } colaCircular;
 
 void inicializar(colaCircular *cola){
    cola->frente = 0;
    cola->final = 0;
    cola->size = 0;
    
    printf("cola circular inicializada \n");
 } 
 
 int isEmpty(colaCircular *cola){
    return cola->size ==0;
 }
 
 int isFull(colaCircular *cola){
    return cola->size == MAX;
 }
 
 int enqueue(colaCircular *cola, int valor) {
    if (isFull(cola)) {
        printf("La cola está llena\n");
        return -1;
    }

    cola->datos[cola->final] = valor;                
    cola->final = (cola->final + 1) % MAX;           
    cola->size++;                                   
    printf("Encolado: %d\n", valor);                 

    return 0;
}
 
 int dequeue(colaCircular *cola){
    if (isEmpty(cola)){
        printf("la cola esta vacia \n");
        return -1;
    }
    int valor = cola->datos[cola->frente];
    cola->frente = (cola->frente + 1) % MAX;
    cola->size--;
    printf("desencolado: %d \n", valor);
    return valor;
 }
 
 int peek(colaCircular *cola){
    if (isEmpty(cola)){
        printf("cola vacia \n");
        return -1;
    }
    return cola->datos[cola->frente];
 }
 
 void printqueue(colaCircular *cola){
    if (isEmpty(cola)){
        printf("cola vacia");
        return;
    }
    printf("cola actual:");
    int i = cola->frente;
    for(int cont= 0; cont<cola->size; cont++){
        printf("%d ", cola->datos[i]);
        i = (i + 1) % MAX;
    }
    printf("\n");
 }
 
 int main(){
    
    colaCircular cola;
    inicializar(&cola);
    
    enqueue(&cola, 5);
    enqueue(&cola, 10);
    enqueue(&cola, 15);
    printqueue(&cola);
    
    dequeue(&cola);
    printqueue(&cola);
    
    enqueue(&cola, 20);
    enqueue(&cola, 25);
    enqueue(&cola, 30);
    printqueue(&cola);
    
    return 0;
    
 }

//1. ¿Por qué en la cola circular no se desperdician posiciones como en la cola lineal?
// porque al apuntar el ultimo al primer nodo este se puede volver a utilizar a diferencia de la lineal que no se puede volver a utilizar
//2. ¿Qué pasa cuando el índice final llega al final del arreglo?
// apunta al inicio del arreglo para meter mas datos o indicar que la cola esta llena
//3. ¿Qué sucede si intentas encolar cuando la cola está llena?
// si no tuviera condicional se sobrescribirian los datos que ya se escribieron antes
